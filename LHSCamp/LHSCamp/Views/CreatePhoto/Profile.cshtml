@{
    ViewBag.Title = "Profile";
}

@section Styles {
    <style type="text/css">
        .canvas-container {
            margin: 0 auto;
        }
    </style>
}

<h1>Create Profile Picture</h1>

<canvas id="profile-pic" style="border:2px solid #000;"></canvas>

@section Scripts {
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/fabric.js/1.4.0/fabric.min.js"></script>
    <script type="text/javascript">
        var canvas = new fabric.Canvas('profile-pic');
        canvas.setDimensions({ width: 500, height: 500 });
        //Thanks! http://stackoverflow.com/questions/15089839/fabric-js-how-to-center-canvas
        $(".canvas-container").css("margin", "0 auto");
        $.getJSON("/API/Chosen", function (data) {
            for (var i = 0; i < data.length; i++) {
                fabric.Image.fromURL(data[i].profilePic, function (oImg) {
                    canvas.add(oImg);
                });
            }
        });
    </script>
}